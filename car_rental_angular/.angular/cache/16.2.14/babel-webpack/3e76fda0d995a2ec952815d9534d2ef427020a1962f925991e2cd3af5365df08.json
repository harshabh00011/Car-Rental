{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst TOKEN = \"token\";\nconst USER = \"user\";\nexport class StorageService {\n  constructor() {}\n  static saveToken(token) {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.setItem(TOKEN, token);\n  }\n  static saveUser(user) {\n    window.localStorage.removeItem(USER);\n    window.localStorage.setItem(USER, JSON.stringify(user));\n  }\n  static getToken() {\n    return window.localStorage.getItem(TOKEN);\n  }\n  static getUser() {\n    return JSON.parse(localStorage.getItem(USER) || '{}');\n  }\n  static getUserRole() {\n    const user = this.getUser();\n    if (user == null) return \"\";\n    return user.role;\n  }\n  static isAdminLoggedIn() {\n    if (this.getToken() == null) return false;\n    const role = this.getUserRole();\n    return role == \"ADMIN\";\n  }\n  static isCustomerLoggedIn() {\n    if (this.getToken() == null) return false;\n    const role = this.getUserRole();\n    return role == \"CUSTOMER\";\n  }\n  static logout() {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.removeItem(USER);\n  }\n  static #_ = this.ɵfac = function StorageService_Factory(t) {\n    return new (t || StorageService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: StorageService,\n    factory: StorageService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["TOKEN","USER","StorageService","constructor","saveToken","token","window","localStorage","removeItem","setItem","saveUser","user","JSON","stringify","getToken","getItem","getUser","parse","getUserRole","role","isAdminLoggedIn","isCustomerLoggedIn","logout","_","_2","factory","ɵfac","providedIn"],"sources":["D:\\practice projects\\car-rental\\car_rental_angular\\src\\app\\auth\\service\\storage\\storage.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nconst TOKEN = \"token\";\nconst USER = \"user\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  constructor() { }\n\n  static saveToken(token: string): void {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.setItem(TOKEN, token);\n  }\n\n  static saveUser(user: any): void {\n    window.localStorage.removeItem(USER);\n    window.localStorage.setItem(USER, JSON.stringify(user));\n  }\n\n  static getToken() {\n    return window.localStorage.getItem(TOKEN);\n  }\n\n  static getUser() {\n    return JSON.parse(localStorage.getItem(USER) || '{}');\n  }\n\n  static getUserRole(): string {\n    const user = this.getUser();\n    if(user == null) return \"\";\n    return user.role;\n  }\n\n  static isAdminLoggedIn(): boolean {\n    if(this.getToken() == null) return false;\n    const role :string = this.getUserRole();\n    return role == \"ADMIN\";\n  }\n\n  static isCustomerLoggedIn(): boolean {\n    if(this.getToken() == null) return false;\n    const role :string = this.getUserRole();\n    return role == \"CUSTOMER\";\n  }\n\n  static logout(): void {\n    window.localStorage.removeItem(TOKEN);\n    window.localStorage.removeItem(USER);\n  }\n\n\n}\n"],"mappings":";AAEA,MAAMA,KAAK,GAAG,OAAO;AACrB,MAAMC,IAAI,GAAG,MAAM;AAKnB,OAAM,MAAOC,cAAc;EAEzBC,YAAA,GAAgB;EAEhB,OAAOC,SAASA,CAACC,KAAa;IAC5BC,MAAM,CAACC,YAAY,CAACC,UAAU,CAACR,KAAK,CAAC;IACrCM,MAAM,CAACC,YAAY,CAACE,OAAO,CAACT,KAAK,EAAEK,KAAK,CAAC;EAC3C;EAEA,OAAOK,QAAQA,CAACC,IAAS;IACvBL,MAAM,CAACC,YAAY,CAACC,UAAU,CAACP,IAAI,CAAC;IACpCK,MAAM,CAACC,YAAY,CAACE,OAAO,CAACR,IAAI,EAAEW,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC,CAAC;EACzD;EAEA,OAAOG,QAAQA,CAAA;IACb,OAAOR,MAAM,CAACC,YAAY,CAACQ,OAAO,CAACf,KAAK,CAAC;EAC3C;EAEA,OAAOgB,OAAOA,CAAA;IACZ,OAAOJ,IAAI,CAACK,KAAK,CAACV,YAAY,CAACQ,OAAO,CAACd,IAAI,CAAC,IAAI,IAAI,CAAC;EACvD;EAEA,OAAOiB,WAAWA,CAAA;IAChB,MAAMP,IAAI,GAAG,IAAI,CAACK,OAAO,EAAE;IAC3B,IAAGL,IAAI,IAAI,IAAI,EAAE,OAAO,EAAE;IAC1B,OAAOA,IAAI,CAACQ,IAAI;EAClB;EAEA,OAAOC,eAAeA,CAAA;IACpB,IAAG,IAAI,CAACN,QAAQ,EAAE,IAAI,IAAI,EAAE,OAAO,KAAK;IACxC,MAAMK,IAAI,GAAW,IAAI,CAACD,WAAW,EAAE;IACvC,OAAOC,IAAI,IAAI,OAAO;EACxB;EAEA,OAAOE,kBAAkBA,CAAA;IACvB,IAAG,IAAI,CAACP,QAAQ,EAAE,IAAI,IAAI,EAAE,OAAO,KAAK;IACxC,MAAMK,IAAI,GAAW,IAAI,CAACD,WAAW,EAAE;IACvC,OAAOC,IAAI,IAAI,UAAU;EAC3B;EAEA,OAAOG,MAAMA,CAAA;IACXhB,MAAM,CAACC,YAAY,CAACC,UAAU,CAACR,KAAK,CAAC;IACrCM,MAAM,CAACC,YAAY,CAACC,UAAU,CAACP,IAAI,CAAC;EACtC;EAAC,QAAAsB,CAAA,G;qBA3CUrB,cAAc;EAAA;EAAA,QAAAsB,EAAA,G;WAAdtB,cAAc;IAAAuB,OAAA,EAAdvB,cAAc,CAAAwB,IAAA;IAAAC,UAAA,EAFb;EAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}